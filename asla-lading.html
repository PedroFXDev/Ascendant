<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ASLA — Interface Fusionada</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
<style>
body {
  margin:0; padding:0;
  background:#050b17;
  font-family:"Inter", sans-serif;
  overflow-x:hidden; overflow-y:auto;
  display:flex;
  flex-direction:column;
  align-items:center;
}

/* Vídeo de fundo */
.bg-video{
  position:fixed; top:0; left:0; width:100%; height:100%;
  object-fit:cover; z-index:-5; filter:brightness(0.55) blur(4px);
}

/* Overlay de cores */
.bg-overlay{
  position:fixed; width:100%; height:100%; top:0; left:0;
  background:radial-gradient(circle,#00bfff22,#000000);
  z-index:-4;
}

/* Canvas das partículas (sobre vídeo, atrás do chat) */
#particlesCanvas{
  position:fixed; top:0; left:0; width:100%; height:100%;
  z-index:-3;
}

/* Hero */
.hero{
  margin-top:120px; text-align:center; z-index:10; position:relative;
}
.hero .badge{
  display:inline-block;
  background:rgba(0,140,255,0.25);
  padding:8px 16px;
  border-radius:20px;
  border:1px solid rgba(0,140,255,0.5);
  color:#5fc4ff;
  margin-bottom:15px;
  font-size:0.95rem;
}
.hero h1{
  font-size:3.8rem;
  font-weight:700;
  text-shadow:0 0 25px #00bfff,0 0 50px #0077ff;
  margin-bottom:18px;
}
.hero h1 span{ color:#3d8bff; }
.hero p{
  font-size:1.2rem;
  opacity:0.85;
  max-width:600px;
  margin:auto;
  margin-bottom:25px;
}
.hero button{
  padding:16px 42px;
  background:linear-gradient(90deg,#00bfff88,#0077ff55);
  border-radius:40px;
  border:none;
  cursor:pointer;
  color:white;
  font-weight:700;
  font-size:1.1rem;
  transition:.3s;
  backdrop-filter:blur(6px);
}
.hero button:hover{
  transform:scale(1.06);
  background:linear-gradient(90deg,#00bfffcc,#0077ff99);
}

/* Chat */
.chat-container { width:100%; display:flex; justify-content:center; margin-top:60px; z-index:10; position:relative; }
.chat-box {
  width:80%; max-width:900px;
  background: rgba(0,0,0,0.25);
  border: 1px solid rgba(255,255,255,0.1);
  border-radius: 14px;
  padding: 20px;
  display: flex; flex-direction: column;
  gap:12px;
  backdrop-filter: blur(12px);
}
.chat-messages { max-height:300px; overflow-y:auto; display:flex; flex-direction:column; gap:8px; }
.msg { padding:10px 16px; border-radius:14px; max-width:75%; word-wrap:break-word; opacity:0; transform:scale(0.95); animation:fadePop 0.3s forwards; }
.msg.user { background:#00bfff; color:#fff; align-self:flex-end; }
.msg.asla { background:#1c1c1c; color:#fff; border:1px solid #00bfff; align-self:flex-start; }
@keyframes fadePop { from{opacity:0; transform:scale(0.95);} to{opacity:1; transform:scale(1);} }

/* Typing */
.typing { display:flex; gap:4px; margin-bottom:5px; }
.dot { width:8px; height:8px; background:#00bfff; border-radius:50%; animation: blink 1.4s infinite; }
.dot:nth-child(2){ animation-delay:0.2s; }
.dot:nth-child(3){ animation-delay:0.4s; }
@keyframes blink { 0%,80%,100%{opacity:0;} 40%{opacity:1;} }

/* Input */
.chat-box textarea { flex:1; height:80px; background: transparent; border:none; outline:none; color:#fff; font-size:16px; resize:none; padding:10px; border-radius:12px; }
.chat-box .send-btn { width:50px; height:50px; border-radius:50%; border:none; background:linear-gradient(135deg,#0A84FF,#00C6FF); color: #fff; font-size:20px; cursor:pointer; display:flex; align-items:center; justify-content:center; }
</style>
</head>
<body>

<video class="bg-video" autoplay muted loop playsinline>
  <source src="/imgs/Criação_de_Vídeo_Futurista_Dark_Premium.mp4" type="video/mp4">
</video>
<div class="bg-overlay"></div>

<canvas id="particlesCanvas"></canvas>

<section class="hero">
  <div class="badge">Lançamento ASLA</div>
  <h1>A sua I.A empresarial <span>ASLA</span></h1>
</p>
</section>

<div class="chat-container">
  <div class="chat-box">
    <div class="chat-messages" id="messages"></div>
    <textarea id="userInput" placeholder="Digite aqui..."></textarea>
    <button class="send-btn" onclick="sendMessage()">➤</button>
  </div>
</div>

<script>
// PARTICULAS SOBRE O VÍDEO
const canvas = document.getElementById('particlesCanvas');
const ctx = canvas.getContext('2d');
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

class Particle{
  constructor(){
    this.x = Math.random()*canvas.width;
    this.y = Math.random()*canvas.height;
    this.size = Math.random()*2+1;
    this.speedX = Math.random()*0.5-0.25;
    this.speedY = Math.random()*0.5-0.25;
    this.color = 'rgba(0,191,255,0.6)';
  }
  update(){
    this.x += this.speedX;
    this.y += this.speedY;
    if(this.x>canvas.width) this.x=0;
    if(this.x<0) this.x=canvas.width;
    if(this.y>canvas.height) this.y=0;
    if(this.y<0) this.y=canvas.height;
  }
  draw(){
    ctx.fillStyle = this.color;
    ctx.beginPath();
    ctx.arc(this.x,this.y,this.size,0,Math.PI*2);
    ctx.fill();
  }
}
const particlesArray=[];
for(let i=0;i<120;i++) particlesArray.push(new Particle());

function animateParticles(){
  ctx.clearRect(0,0,canvas.width,canvas.height);
  particlesArray.forEach(p=>{p.update(); p.draw();});
  requestAnimationFrame(animateParticles);
}
animateParticles();
window.addEventListener('resize',()=>{canvas.width=window.innerWidth; canvas.height=window.innerHeight;});

// CHAT
function addMessage(text,type){
  const msgBox=document.getElementById("messages");
  const div=document.createElement("div");
  div.classList.add("msg",type);
  div.textContent=text;
  msgBox.appendChild(div);
  msgBox.scrollTop=msgBox.scrollHeight;
}

async function sendMessage(){
  const input=document.getElementById("userInput");
  const text=input.value.trim();
  if(!text) return;
  addMessage(text,"user");
  input.value="";

  const typing=document.createElement("div");
  typing.classList.add("msg","asla","typing");
  typing.innerHTML='<div class="dot"></div><div class="dot"></div><div class="dot"></div>';
  const msgBox=document.getElementById("messages");
  msgBox.appendChild(typing);
  msgBox.scrollTop=msgBox.scrollHeight;

  try{
    const response=await fetch("https://asla-api1.onrender.com/asla",{
      method:"POST",
      headers:{"Content-Type":"application/json"},
      body:JSON.stringify({message:text})
    });
    const data=await response.json();
    typing.remove();
    addMessage(data.reply,"asla");
  }catch(err){
    typing.remove();
    addMessage("Erro ao conectar com ASLA.","asla");
  }
}
</script>
</body>
</html>
